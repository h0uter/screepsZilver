@startuml
frame Game  {
 [creeps]
 [structures]
 [constructionSites]
}

frame agents {
  frame Creep {
    [Engineer]
    [Harvester]
    [Miner]
  }
  frame Structure {
    [Spawn]
    [Tower]
  }
  [Room]
}

dataBase Model {
  [Memory]
  [roomInfo]
  [gameInfo]
}
package View {
  () jobQueue
  () spawnQueue
}
package Controller {
  [Strategy]
  () agentInput - [Strategy]
}

[main] -- loop
loop ---> Room : run()
loop ---> [logger] : run()
loop ---> Controller: run()



Game <.up. [Strategy]: monitor()


View --> agentInput: agent input

Room --> Creep: run()
Room --> Structure : run()

[Strategy] --> Model  : manipulate
Model --> View : update

' [logger] ..> Memory : read

jobQueue <.. Creep: getJob()
spawnQueue <.. Spawn: getSpawnJob()
@enduml
